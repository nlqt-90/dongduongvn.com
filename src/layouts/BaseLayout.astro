---
import { url } from "@utils/url";
const {
  title = "Đông Dương | Cẩu tháp - Vận thăng - Giàn giáo - Cốp pha",
  description = "Đông Dương chuyên cung cấp giàn giáo, cốp pha, vận thăng, cầu tháp Potain và khán đài lắp ghép. Đạt ISO 9001, QUATEST, nhiều dự án lớn toàn quốc."
} = Astro.props;
---

<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>{title}</title>
  <meta name="description" content={description} />
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href={url("/assets/img/favicon.svg")} />
  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />

  <!-- CSS GIỐNG THEME GỐC -->
  <link rel="stylesheet" href={url("/assets/css/preload.min.css")} />
  <link rel="stylesheet" href={url("/assets/css/icomoon.css")} />
  <link rel="stylesheet" href={url("/assets/css/libs.min.css")} />
  <!-- GLOBAL -->
  <link rel="stylesheet" href={url("/assets/css/header.css")} />
  <link rel="stylesheet" href={url("/assets/css/footer.css")} />
  <link rel="stylesheet" href={url("/assets/css/main.css")} />
  <link rel="stylesheet" href={url("/assets/css/floating-buttons.css")} />
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js" defer></script>
</head>

<body>
  <slot />
  <a href="tel:+842838552151" class="hotline-float-btn" aria-label="Gọi hotline">
    <img src={url("/assets/img/hotline-icon.png")} alt="Hotline" />
  </a>
  
  <a href="https://zalo.me/84901234567" target="_blank" rel="noopener" class="zalo-float-btn" aria-label="Chat Zalo">
    <img src={url("/assets/img/zalo-icon.png")} alt="Zalo chat" />
  </a>
  
  <!-- JS chung -->
  <script src={url("/assets/js/common.min.js")} defer></script>
  <script is:inline>
    // Thêm dòng này để TypeScript không báo lỗi
    const netlifyIdentity = window.netlifyIdentity;
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", (user) => {
        if (!user) {
          // Nếu user nhấn vào link xác nhận email, widget sẽ tự mở
          window.netlifyIdentity.on("login", () => {
            // Sau khi login/xác nhận thành công, đẩy về trang admin
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>
</body>
</html>
