# Use DecapBridge classic auth (required)
backend:
  name: git-gateway
  repo: nlqt-90/dongduongvn.com
  branch: main
  identity_url: https://auth.decapbridge.com/sites/7ce0857c-f0a9-4f04-a460-ebfb29f08867
  gateway_url: https://gateway.decapbridge.com

  # See who did what (optional)
  commit_messages:
    create: Create {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload ‚Äú{{path}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete ‚Äú{{path}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

# Better Decap + Bridge logo (optional)
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Add site links in Decap CMS (optional)
site_url: https://giangiao.com.vn
# ---- Cloudinary media library c·∫•u h√¨nh ----
media_library:
  name: cloudinary
  config:
    cloud_name: "dwh5aujt4"   # üëâ thay b·∫±ng cloud_name th·ª±c t·∫ø
    api_key: "551385925435162"         # üëâ thay b·∫±ng API Key Cloudinary (public)
    media_folder: "uploads"
    output_filename_only: true 
    default_transformations:
      - width: 1200
        crop: scale
        fetch_format: auto
        quality: auto

# --- local_backend: true ---

slug:
  clean_accents: true

collections:
  # ===========================
  # POPUP COLLECTION
  # ===========================
  - name: "popups"
    label: "Popups"
    folder: "src/content/popups"
    create: true
    format: "frontmatter"
    extension: "md"
    slug: "{{fields.title}}"

    fields:
      - { label: "Ti√™u ƒë·ªÅ", name: "title", widget: "string" }
      - { label: "K√≠ch ho·∫°t", name: "active", widget: "boolean", default: true }
      - { label: "Ng√†y b·∫Øt ƒë·∫ßu", name: "startDate", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
      - { label: "Ng√†y k·∫øt th√∫c", name: "endDate", widget: "datetime", format: "YYYY-MM-DD", time_format: false }
      - label: "·∫¢nh popup"
        name: "image"
        widget: "image"
        choose_url: false
        hint: "Upload ·∫£nh (t·ª± l∆∞u Cloudinary)"

  # ===========================
  # PROJECT COLLECTION
  # ===========================
  - name: "projects"
    label: "Projects"
    folder: "src/content/projects"
    create: true
    format: "frontmatter"
    extension: "md"
    slug: "{{fields.title}}"

    fields:
      - { label: "Ti√™u ƒë·ªÅ", name: "title", widget: "string" }
      - { label: "ƒê·ªãa ƒëi·ªÉm", name: "location", widget: "string" }
      - { label: "Ng√†y b·∫Øt ƒë·∫ßu (YYYY-MM)", name: "startDate", widget: "string" }

      - label: "Danh m·ª•c thi·∫øt b·ªã"
        name: "categories"
        widget: "select"
        multiple: true
        options:
          - { label: "C·∫©u th√°p", value: "cau-thap" }
          - { label: "V·∫≠n thƒÉng", value: "van-thang" }
          - { label: "Gi√†n gi√°o", value: "gian-giao" }
          - { label: "C·ªëp pha", value: "cop-pha" }
          - { label: "C·ªôt ch·ªëng", value: "cot-chong" }
          - { label: "T·∫•m s√†n th√©p", value: "tam-san-thep" }

      - { label: "Thumbnail", name: "thumbnail", widget: "image", choose_url: false }
      - { label: "·∫¢nh ch√≠nh", name: "mainImage", widget: "image", choose_url: false }

      - label: "M√¥ t·∫£ d·ª± √°n"
        name: "description"
        widget: "list"
        field:
          label: "ƒêo·∫°n m√¥ t·∫£"
          name: "text"
          widget: "text"

      - label: "Th√¥ng tin th√™m"
        name: "info"
        widget: "object"
        fields:
          - { label: "ƒê·ªãa ƒëi·ªÉm hi·ªÉn th·ªã", name: "location", widget: "string" }
          - { label: "Quy m√¥", name: "scope", widget: "string" }

      - label: "Gallery"
        name: "gallery"
        widget: "list"
        field:
          label: "·∫¢nh"
          name: "image"
          widget: "image"
          choose_url: false
